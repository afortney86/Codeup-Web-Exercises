<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Weather Map</title>
    <link href="cssbootstrap/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #9acfea;
        }

        .col-sm-4 {
            background-color: azure;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>Weather Application</h1>
    <h3 id="currentCity"></h3>

    <div class="row">
        <div id="weather1" class="col-sm-4"><h1>Weather!</h1></div>
        <div id="weather2" class="col-sm-4"><h1>Weather!</h1></div>
        <div id="weather3" class="col-sm-4"><h1>Weather!</h1></div>
    </div>

</div>

<script src="jsbootstrap/jquery.min.js"></script>
<script src="jsbootstrap/bootstrap.min.js"></script>
<script>
    var getWeather = $.get("http://api.openweathermap.org/data/2.5/forecast/daily", {
        APPID: "c3ac1b4c5aea15248441193972cd67cc",
        q: "San Antonio, TX",
        units: "imperial",
        cnt: 3
    });
    //making sure request goes through
    getWeather.fail(function (error) {
        console.log(error)
    });
    //Request goes through, doSomething!
    getWeather.done(function (data) {
        console.log(data);
        $("#currentCity").html(data.city.name);
//            var getIcon = '<img src="http://openweathermap.org/img/w/' + data.list[0].weather[0].icon + '.png">';
//            console.log(getIcon);
//            data.list.forEach(function (day, index) {
//               $("#weather" + index).html()
//            });
        var w1contents = "";
        var w2contents = "";
        var w3contents = "";

        w1contents += "<p>Temp: " + Math.round(data.list[0].temp.max) + "/" + Math.round(data.list[0].temp.min) + "</p>"
                + "<p>" + '<img src="http://openweathermap.org/img/w/' + data.list[0].weather[0].icon + '.png">' + "</p>"
                + "<p>" + data.list[0].weather[0].main + "</p>"
                + "<p>Humidity: " + data.list[0].humidity + "%" + "</p>"
                + "<p>Wind: " + data.list[0].speed + "</p>"
                + "<p>Pressure: " + data.list[0].pressure + "</p>";

        w2contents += "<p>Temp: " + Math.round(data.list[1].temp.max) + "/" + Math.round(data.list[1].temp.min) + "</p>"
                + "<p>" + '<img src="http://openweathermap.org/img/w/' + data.list[1].weather[0].icon + '.png">' + "</p>"
                + "<p>" + data.list[1].weather[0].main + "</p>"
                + "<p>Humidity: " + data.list[1].humidity + "%" + "</p>"
                + "<p>Wind: " + data.list[1].speed + "</p>"
                + "<p>Pressure: " + data.list[1].pressure + "</p>";

        w3contents += "<p>Temp: " + Math.round(data.list[2].temp.max) + "/" + Math.round(data.list[2].temp.min) + "</p>"
                + "<p>" + '<img src="http://openweathermap.org/img/w/' + data.list[2].weather[0].icon + '.png">' + "</p>"
                + "<p>" + data.list[2].weather[0].main + "</p>"
                + "<p>Humidity: " + data.list[2].humidity + "%" + "</p>"
                + "<p>Wind: " + data.list[2].speed + "</p>"
                + "<p>Pressure: " + data.list[2].pressure + "</p>";


        $("#weather1").html(w1contents);
        $("#weather2").html(w2contents);
        $("#weather3").html(w3contents);
    });


</script>
</body>
</html>